<main class="main">
  <section class="thumbnail-section">
    <div class="container-fluid mb-5" *ngIf="productsArr">
      <div class="row">
        <!-- Sidebar Categories -->
        <div class="col-md-3 col-lg-2 border-right border-secondary pt-5">
          <ul class="list-group">
            <ng-container
              *ngFor="let cat of categoryWithSubcategoriesArr; let i = index"
            >
              <div
                class="position-relative"
                (mouseenter)="hoveredCategoryIndex = i"
                (mouseleave)="hoveredCategoryIndex = null"
              >
                <li
                  class="list-group-item category-list border-0 d-flex justify-content-between align-items-center"
                  [routerLink]="['/products']"
                  [queryParams]="{ category: cat.category }"
                >
                  <span>{{ cat.category }}</span>
                  <strong class="text-danger fs-4">{{
                    hoveredCategoryIndex === i ? ">" : ""
                  }}</strong>
                </li>

                <ul
                  class="list-group subcategory-list shadow"
                  *ngIf="hoveredCategoryIndex === i"
                >
                  <li
                    class="list-group-item border-0"
                    *ngFor="let sub of cat.subcategories"
                    [routerLink]="['/products']"
                    [queryParams]="{
                      category: cat.category,
                      subcategory: sub
                    }"
                  >
                    {{ sub }}
                  </li>
                  <li
                    class="list-group-item text-muted"
                    *ngIf="cat.subcategories.length === 0"
                  >
                    No subcategories
                  </li>
                </ul>
              </div>
            </ng-container>
          </ul>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 col-lg-10 pt-5">
          <app-carousel></app-carousel>
        </div>
      </div>
    </div>
  </section>
</main>
